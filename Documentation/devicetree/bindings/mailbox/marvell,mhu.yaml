# SPDX-License-Identifier: GPL-2.0-only or BSD-2-Clause
%YAML 1.2
---
$id: http://devicetree.org/schemas/mailbox/marvell,mhu.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Marvell Message Handling Unit

maintainers:
  - Sujeet Baranwal <sbaranwal@marvell.com>
  - Wojciech Bartczak <wbartczak@marvell.com>

description:
  The Control-Processors Cluster (CPC) provides Arm-platform specification
  entities for managing the system. One of the CPC processors is the System
  Control Processor (SCP). The SCP is responsible, among others, for booting
  the chip, clock and power initialization, controlling power consumption
  through DVFS, monitoring temperature sensors and controlling AVS. The SCP,
  as each XCP, contains mailboxes for software-to-software communications.
  Mailbox writes cause an interrupt to the local XCP core or to the AP.
  This driver exposes AP-SCP Message Handling Unit to the system, providing
  the mailbox communication mechanism to the system, with the intention
  of plugging into the SCMI framework. It is designed to work with Marvell
  OcteonTX and OcteonTX2-based platforms.
  Mailbox has no other usage than SCMI communication. In case of
  configurations running without SCMI support it should be disabled.

properties:
  compatible:
    oneOf:
      - items:
          - enum:
              - marvell,mbox

  reg:
    maxItems: 1

  "#mbox-cells":
    description: Index of the channel
    const: 1

required:
  - compatible
  - reg
  - "#mbox-cells"

additionalProperties: false

examples:
  - |
    ecam {
        #address-cells = <3>;
        #size-cells = <2>;
            mailbox: mailbox@1c,0 {
                compatible = "marvell,mbox";
                reg = <0xe000 0x0 0x0 0 0>;
                #mbox-cells = <1>;
            };
    };
